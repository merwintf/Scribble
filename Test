public void SetTextWithLinks(string input)
{
    MyTextBlock.Inlines.Clear();

    string pattern = @"(\b(?:https?:\/\/|url:|[a-zA-Z0-9]+:\/\/)[^\s]+)";
    var parts = Regex.Split(input, pattern);

    foreach (var part in parts)
    {
        if (Regex.IsMatch(part, pattern))
        {
            var hyperlink = new Hyperlink(new Run(part))
            {
                NavigateUri = new Uri(part, UriKind.RelativeOrAbsolute)
            };
            hyperlink.RequestNavigate += (s, e) =>
            {
                Process.Start(new ProcessStartInfo(e.Uri.AbsoluteUri) { UseShellExecute = true });
                e.Handled = true;
            };
            MyTextBlock.Inlines.Add(hyperlink);
        }
        else
        {
            MyTextBlock.Inlines.Add(new Run(part));
        }
    }
}
